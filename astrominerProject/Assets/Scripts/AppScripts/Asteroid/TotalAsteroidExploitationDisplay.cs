using SBaier.DI;
using TMPro;
using UnityEngine;

namespace SBaier.Astrominer
{
    public class TotalAsteroidExploitationDisplay : MonoBehaviour, Injectable
    {
        [SerializeField] 
        private TextMeshProUGUI _text;

        [SerializeField] 
        private string _baseString = "";

        private Map _map;

        public void Inject(Resolver resolver)
        {
            _map = resolver.Resolve<Map>();
        }

        private void Update()
        {
            float amount = _map.GetTotalExploitedPercentage() * 100;
            string amountText = amount.ToString("F2");
            _text.text = string.Format(_baseString, amountText);
        }
    }
}
